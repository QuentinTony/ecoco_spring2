<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">


<h:head>
	<title>Ajouter un produit</title>
</h:head>

<h:body>

	<ui:composition template="/templates/layout.xhtml">

		<ui:define name="monHeader">
			<ui:insert>
				<ui:include src="/templates/header.xhtml"></ui:include>
			</ui:insert>
		</ui:define>

		<ui:define name="monBody">

			<h:form enctype="multipart/form-data">
				<p:fieldset legend="Ajouter un produit" styleClass="formStyle">

					<p:outputLabel value="Désignation" />
					<br />
					<p:inputText value="#{pMB.produit.designation}" required="true" />
					<br />
					<br />
					<p:outputLabel value="Description" />
					<br />
					<p:inputTextarea value="#{pMB.produit.description}" rows="6"
						maxlength="200" placeholder="Description (200 caractères maximum)"
						cols="42" counter="display"
						counterTemplate="{0} caractères restants" />
					<br />
					<h:outputText id="display" style="font-size:75%" />
					<br />
					<br />
					<p:outputLabel value="Prix" />
					<br />
					<p:inputText id="idPrix" value="#{pMB.produit.prix}"
						required="true" maxlength="12">
						<f:validator validatorId="vNbPrix" />
					</p:inputText>
					<p:message for="idPrix" />

					<br />
					<p:outputLabel value="Quantité" />
					<br />
					<p:inputText id="idQtite" value="#{pMB.produit.quantite}"
						required="true" maxlength="12">
						<f:validator validatorId="vNbQtite" />
					</p:inputText>
					<p:message for="idQtite" />

					<br />
					<p:outputLabel value="Photo" />
					<br />
					<p:fileUpload id="image" value="#{pMB.file}" mode="simple"
						skinSimple="true" />
					<br />
					<br />
					<p:outputLabel value="Lien (facultatif)" />
					<br />
					<p:inputText value="#{pMB.produit.lien}" />
					<br />
					<br />
					<p:outputLabel value="Catégorie" />
					<br />
					<h:selectOneMenu value="#{pMB.categorie.idCategorie}">
						<f:selectItems value="#{caMB.listeCategories}" var="ca"
							itemLabel="#{ca.nomCategorie}" itemValue="#{ca.idCategorie}" />

					</h:selectOneMenu>
					<br />
					<br />

					<p:commandButton value="Ajouter un produit"
						action="#{pMB.addProduct}" style="margin-right:20px" ajax="false"
						update="growl" />

				</p:fieldset>
				<br />
				<br />
				<p:commandButton value="Retour à votre espace client"
					action="#{pMB.espaceclient}"
					style="margin-right:20px; position:relative; left:37.5%; width:25%"
					ajax="false" update="growl" />
			</h:form>

		</ui:define>


		<ui:define name="monFooter">
			<ui:insert>
				<ui:include src="/templates/footer.xhtml"></ui:include>
			</ui:insert>
		</ui:define>

	</ui:composition>

</h:body>

</html>